port: 7890           # HTTP ä»£ç†ç«¯å£
socks-port: 7891     # Socks ç«¯å£
allow-lan: true      # å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*"    # åœ°å€ç»‘å®š
mode: rule           # è·¯ç”±æ¨¡å¼
log-level: info      # æ—¥å¿—çº§åˆ«
ipv6: true        
external-controller: 127.0.0.1:9090 # RESTful API ç›‘å¬åœ°å€

dns:
  enable: true
  ipv6: true
  listen: 0.0.0.0:1053
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  enhanced-mode: fake-ip #dns å¤„ç†æ¨¡å¼
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter: #fakeip è¿‡æ»¤ï¼Œé…ç½®ä¸ä½¿ç”¨fake-ipçš„åŸŸå
    - "*.lan"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "time.*.com"
    - "time.*.apple.com"
    - "time1.*.com"
    - "time2.*.com"
    - "time3.*.com"
    - "time4.*.com"
    - "time5.*.com"
    - "time6.*.com"
    - "time7.*.com"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    - "xbox.*.*.microsoft.com"
    - "*.*.xboxlive.com"
    - "*.msftncsi.com"
    - "*.msftconnecttest.com"
    - "*.126.net"
    - "router.asus.com"
    - "+.music.163.com"
    - "+.y.qq.com"
    - "localhost.ptlogin2.qq.com"
    - "localhost.sec.qq.com"
    - WORKGROUP
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
    - 8.8.8.8

#========= å»ºç«‹é”šç‚¹ =========#

# ç­–ç•¥ç»„å¼•ç”¨
p:    &a1 {type: http,     interval: 86400, health-check: {enable: false, url: https://www.gstatic.com/generate_204, interval: 3600}}
use:  &a2 {type: select,   use: [sub]}
auto: &a3 {type: url-test, lazy: true,  url: https://www.gstatic.com/generate_204, interval: 600, use: [sub]}
c:    &a4 {type: http,     behavior: classical, interval: 864000}
d:    &a5 {type: http,     behavior: domain,    interval: 864000}
i:    &a6 {type: http,     behavior: ipcidr,    interval: 864000}

proxy-providers: #ä»£ç†é›†
  sub:
    <<: *a1
    url: &flag=clash
    path: ./proxy_providers/1.yaml

proxies: null #èŠ‚ç‚¹

proxy-groups: #ç­–ç•¥ç»„ a4æ›´æ”¹ä¸ºa2ï¼Œå³ä¸ºæ‰‹åŠ¨é€‰æ‹©
  - {name: ğŸŒ å…¨çƒåŠ é€Ÿ, type: select, proxies: [â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸš€ æ‰‹åŠ¨åˆ‡æ¢, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡¦ğŸ‡¶ å†·é—¨åœ°åŒº]}
  - {name: ğŸš€ æ‰‹åŠ¨åˆ‡æ¢, <<: *a2, filter: "^(?!.*((?i)å®˜|å¥—|å¤©|å‰©|ç¦)).*$"}
  - {name: ğŸ“º å“”å“©å“”å“©, type: select, proxies: [DIRECT, ğŸŒ å…¨çƒåŠ é€Ÿ, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹]}
  - {name: ğŸª å¾®è½¯äº‘ç›˜, type: select, proxies: [ğŸŒ å…¨çƒåŠ é€Ÿ, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, <<: *a2, filter: "æ¸¯|HK|(?i)Hong"}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, <<:  *a2, filter: "æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|åŸ¼ç‰|JP|(?i)Japan"}
  - {name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, <<: *a2, filter: "ç¾|å‡¤å‡°åŸ|è´¹åˆ©è’™|åŠ å·|çº½çº¦|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|è¥¿é›…å›¾|èŠåŠ å“¥|US|(?i)States|American"} 
  - {name: ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, <<: *a2, filter: "å°|æ¹¾|æ–°åŒ—|TW|(?i)Taiwan"}
  - {name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, <<: *a2, filter: "æ–°åŠ å¡|å¡|ç‹®åŸ|SG|(?i)Singapore"}
  - {name: ğŸ‡¦ğŸ‡¶ å†·é—¨åœ°åŒº, <<: *a2, filter: "(?i)^(?!.*(?:å®˜|å¥—|å¤©|å‰©|ç¦|æ¸¯|HK|(?i)Hong|æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|åŸ¼ç‰|JP|(?i)Japan|ç¾|å‡¤å‡°åŸ|è´¹åˆ©è’™|åŠ å·|çº½çº¦|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|è¥¿é›…å›¾|èŠåŠ å“¥|US|(?i)States|American|å°|æ¹¾|æ–°åŒ—|TW|(?i)Taiwan|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|(?i)Singapore)).*$"}
  - {name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, <<: *a3, filter: "^(?!.*((?i)å®˜|å¥—|å¤©|å‰©|ç¦)).*$"}
  - {name: ğŸ è‹¹æœæœåŠ¡, type: select, proxies: [DIRECT, ğŸŒ å…¨çƒåŠ é€Ÿ, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹]}
  - {name: ğŸª å¾®è½¯æœåŠ¡, type: select, proxies: [ğŸŒ å…¨çƒåŠ é€Ÿ, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ® æ¸¸æˆå¹³å°, type: select, proxies: [ğŸŒ å…¨çƒåŠ é€Ÿ, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ¬ å›½é™…åª’ä½“, type: select, proxies: [ğŸŒ å…¨çƒåŠ é€Ÿ, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹]}
  - {name: â›” å¹¿å‘Šæ‹¦æˆª, type: select, proxies: [REJECT,DIRECT]}
  - {name: ğŸŸ å…œåº•åˆ†æµ, type: select, proxies: [ğŸŒ å…¨çƒåŠ é€Ÿ, DIRECT]}
 
rule-providers: # åˆ†æµè§„åˆ™é›†
  Direct:      {<<: *a5, url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt,                                            path: ./ruleset/Direct.yaml       }
  Proxy:       {<<: *a5, url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt,                                             path: ./ruleset/Proxy.yaml        }
  Lan:         {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Lan/Lan.yaml,                            path: ./ruleset/Lan.yaml          }
  BiliBili:    {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/BiliBili/BiliBili.yaml,                  path: ./ruleset/BiliBili.yaml     }
  GlobalMedia: {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GlobalMedia/GlobalMedia_Classical.yaml,  path: ./ruleset/GlobalMedia.yaml  }
  Apple:       {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Apple/Apple_Classical.yaml,              path: ./ruleset/Apple.yaml        }
  Github:      {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GitHub/GitHub.yaml,                      path: ./ruleset/Github.yaml       }
  OneDrive:    {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OneDrive/OneDrive.yaml,                  path: ./ruleset/OneDrive.yaml    }
  Microsoft:   {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Microsoft/Microsoft.yaml,                path: ./ruleset/Microsoft.yaml    }
  Google:      {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Google/Google.yaml,                      path: ./ruleset/Google.yaml       }
  Telegram:    {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Telegram/Telegram.yaml,                  path: ./ruleset/Telegram.yaml     }
  Twitter:     {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Twitter/Twitter.yaml,                    path: ./ruleset/Twitter.yaml      }
  Game:        {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Game/Game.yaml,                          path: ./ruleset/Game.yaml         }
  SteamCN:     {<<: *a4, url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/SteamCN/SteamCN.yaml,                    path: ./ruleset/SteamCN.yaml      }
  AD-White:    {<<: *a5, url: https://ghproxy.com/https://raw.githubusercontent.com/Sakuzy0/sub-web-modify/master/anti-ad-white.yaml,             path: ./ruleset/anti-ad-white.yaml}
  AD:          {<<: *a5, url: https://anti-ad.net/clash.yaml,                                                                                     path: ./ruleset/anti-ad.yaml      }

rules: #åˆ†æµè§„åˆ™
  - #DOMAIN-SUFFIX,gstatic.com,ğŸŒ å…¨çƒåŠ é€Ÿ
  - DOMAIN-SUFFIX,spotify.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
  - DOMAIN-SUFFIX,e-hentai.org,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
  - DOMAIN-SUFFIX,exhentai.org,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
  - DOMAIN-SUFFIX,javdb.com,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
  - DOMAIN-SUFFIX,anime1.me,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
  - DOMAIN-SUFFIX,bahamut.akamaized.net,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
  - DOMAIN-SUFFIX,bahamut.com.tw,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
  - DOMAIN-SUFFIX,api.gamer.com.tw,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
  - DOMAIN-SUFFIX,test-ipv6.com,DIRECT
  - DOMAIN-SUFFIX,volcengineapi.com,DIRECT
  - DOMAIN-SUFFIX,api.codelife.cc,DIRECT
  - DOMAIN-SUFFIX,yuc.wiki,DIRECT
  - DOMAIN-SUFFIX,mo.fish,DIRECT
  - DOMAIN-SUFFIX,ruanmei.com,DIRECT
  - DOMAIN-SUFFIX,kgithub.com,DIRECT
  - DOMAIN-SUFFIX,zuxunlei.com,DIRECT
  - DOMAIN-SUFFIX,sina.lt,DIRECT
  - DOMAIN-SUFFIX,549.tv,DIRECT
  - DOMAIN-SUFFIX,download.nvidia.com,DIRECT
  - DOMAIN-SUFFIX,sentry.io,REJECT
##å°ç±³é˜²æ£€æµ‹
  - DOMAIN-SUFFIX,api.installer.xiaomi.com,REJECT
  - DOMAIN-SUFFIX,tracking.miui.com,REJECT
  - DOMAIN-SUFFIX,data.mistat.xiaomi.com,REJECT
  - DOMAIN-SUFFIX,ad.xiaomi.com,REJECT
  - DOMAIN-SUFFIX,sec.miui.com,REJECT
  - DOMAIN-SUFFIX,log.avlyun.sec.intl.miui.com,REJECT
  - DOMAIN-SUFFIX,tmfsdk.m.qq.com,REJECT
  - DOMAIN-SUFFIX,a0.app.xiaomi.com,REJECT
  - DOMAIN-SUFFIX,cn.app.chat.xiaomi.net,REJECT
  - DOMAIN-SUFFIX,etl-xlmc-ssl.sandai.net,REJECT
  - PROCESS-NAME,com.miui.guardprovider,REJECT
  - PROCESS-NAME,com.miui.packageinstaller,REJECT
  - PROCESS-NAME,com.miui.analytics,REJECT
##vivoé˜²æ£€æµ‹
  - PROCESS-NAME,com.iqoo.secure,REJECT
  - PROCESS-NAME,com.android.packageinstaller,REJECT
  - DOMAIN,adxlog.vivo.com.cn,REJECT
  - DOMAIN,msch.f.360.cn,REJECT
  - DOMAIN-SUFFIX,avlyun.com,REJECT
  - DOMAIN-SUFFIX,umeng.com,REJECT
  - DOMAIN-SUFFIX,az.appstore.vivo.com.cn,REJECT
  - DOMAIN-SUFFIX,isecure.vivo.com.cn,REJECT
  - DOMAIN-SUFFIX,prt-stsdk.vivo.com.cn,REJECT
  - DOMAIN-SUFFIX,stinmmtn.vivo.com.cn,REJECT
  - IP-CIDR,220.181.128.0/24,REJECT
  - IP-CIDR,119.96.201.219/32,REJECT
##
  - PROCESS-NAME,coodesker-x64.exe,REJECT
  - PROCESS-NAME,2345PicViewer.exe,REJECT
  - RULE-SET,Lan,DIRECT
  - RULE-SET,SteamCN,DIRECT
  - RULE-SET,AD-White,DIRECT
  - RULE-SET,AD,â›” å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BiliBili,ğŸ“º å“”å“©å“”å“©
  - RULE-SET,OneDrive, ğŸª å¾®è½¯äº‘ç›˜
  - RULE-SET,Microsoft, ğŸª å¾®è½¯æœåŠ¡
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,Game,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,GlobalMedia,ğŸ¬ å›½é™…åª’ä½“
  - RULE-SET,Telegram,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,Github,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,Twitter,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,Google,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,Proxy,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,Direct,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,ğŸŸ å…œåº•åˆ†æµ